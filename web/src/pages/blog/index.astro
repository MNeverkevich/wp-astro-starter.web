---
import { getAllPosts } from '../../lib/api';
import Layout from '../../layouts/Layout.astro';
import Blog from '../../components/Blog.astro';

const POSTS_PER_PAGE = 9;
const allPosts = await getAllPosts();
const posts = allPosts.slice(0, POSTS_PER_PAGE);
const totalPages = Math.ceil(allPosts.length / POSTS_PER_PAGE);
const currentPage = 1;
---

<Layout title={'Blog Page'}>
  <Blog posts={posts} currentPage={currentPage} totalPages={totalPages} />
</Layout>